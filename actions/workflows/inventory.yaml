version: '2.0'

arista.inventory:
  type: direct
  input:
    - hosts

  tasks:
    facts:
      action: napalm.get_facts
      with-items: "hostname in {{ _.hosts }}"
      input:
        hostname: "{{ _.hostname }}"
      publish:
        facts: "{{ task('facts').result }}"

  output:
    facts: "{{ _.facts }}"
